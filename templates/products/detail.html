{% extends 'base.html' %}
{% load static %}
{% block title %}{{ product.title|truncatechars:25 }}{% endblock title %}
{% block content %}
    <!-- Content -->
    <div class="max-w-screen-xl mx-auto p-4">
        <div class="border border-gray-200 rounded-3xl bg-white dark:bg-gray-800 dark:border-gray-700 p-4 grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Image -->
            <div class="w-96 h-96">
                <img src="{{ product.image.url }}" alt="{{ product.title }}" class="border border-gray-200 rounded-3xl">
            </div>
            <!-- Details -->
            <div>
                <h1 class="text-xl font-semibold tracking-tight text-gray-900 dark:text-white">{{ product.title }}</h1>
                <p class="text-gray-600 mb-2">Details</p>
                <ul class="mb-4">
                    <li>
                        <a href="{% url 'products:brands' brand_name=product.brand.name %}" class="font-medium text-gray-400 dark:text-gray-400 hover:text-sky-500 dark:hover:text-blue-600">{{ product.brand.name }}</a>
                    </li>
                    <li>ID: item-{{ product.id }}</li>
                    <li>Category: {{ product.category.title }}</li>
                    <li>Stock: {{ product.stock }}</li>
                    <li>Warranty: {{ product.get_warranty_display }}</li>
                    <div class="flex items-center justify-between">
                        <span class="text-3xl font-bold text-gray-900 dark:text-white">${{ product.normal_price }}</span>
                        {% if product.deal %}
                        <span class="text-3xl font-bold text-gray-900 dark:text-white">${{ product.price_with_discount|floatformat:2 }}</span>
                        <span class="text-3xl font-bold text-gray-900 dark:text-white">{{ product.deal.discount|floatformat:0 }}%</span>
                        {% endif %}
                    </div>
                </ul>
                <div class="space-x-2">
                    <a href="{% url 'cart:add' product.id %}" class="bg-sky-500 text-white px-4 py-2 rounded-3xl hover:bg-sky-800">Add to Cart</a>
                    <a href="{% url 'wishlist:add' product.id %}" class="bg-sky-500 text-white px-4 py-2 rounded-3xl hover:bg-sky-800">Add to Wishlist</a>
                </div>
            </div>
        </div>
        <!-- Tabs -->
        <div class="mt-4">
            <ul class="flex" id="product-tabs">
                <li class="-mb-px mr-1">
                    <a class="border border-gray-200 bg-white rounded-3xl py-2 px-4 text-sky-500 font-semibold" href="#description-tab">Description</a>
                </li>
                <li class="mr-1">
                    <a class="border border-gray-200 bg-white rounded-3xl py-2 px-4 text-sky-500 hover:text-gray-700 font-semibold" href="#specifications-tab">Specifications</a>
                </li>
            </ul>
            <div class="border border-gray-200 rounded-3xl bg-white dark:bg-gray-800 dark:border-gray-700 p-4 mt-4">
                <!-- Description -->
                <div id="description-tab" class="tab-content">
                    <h2 class="text-2xl font-semibold mb-4">Description</h2>
                    <p class="text-white">{{ product.description | safe }}</p>
                </div>
                <!-- Specifications -->
                <div id="specifications-tab" class="tab-content hidden">
                    <h2 class="text-2xl font-semibold mb-4">Specifications</h2>
                    <p class="text-white ">{{ product.specifications | safe }}</p>
                </div>
            </div>
        </div>
    </div>
    <!-- jQuery -->
    <script>
        $(document).ready(function () {
          $("#product-tabs a").click(function (e) {
            e.preventDefault();
            $(".tab-content").addClass("hidden");
            $($(this).attr("href")).removeClass("hidden");
          });
        });
    </script>
{% endblock content %}